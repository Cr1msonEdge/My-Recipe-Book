# Recipe Book 
Recipe Book - веб сайт для размещения рецептов и их просмотра в разных категориях, кухнях, а также их оценки.  Пользователь может добавить рецепт, ингредиент, категорию или кухню, но с обязательной проверкой модератора.
# Инструкция по запуску
Находясь в директории проекта, ввести в консоли команду: ```docker compose up --build```
# Общее описание 
Recipe Book - веб сайт для размещения рецептов и их просмотра в разных категориях, кухнях, а также их оценки.  Пользователь может добавить рецепт, ингредиент, категорию или кухню, но с обязательной проверкой модератора.
## Предметная область
Предметная область включает в себя следующее:
- Пользователь
- Рецепт
- Ингредиент
- Категория
- Кухня
- Ранг пользователя
- Рейтинг рецепта

## Данные
### Пользователь
В таблице пользователей хранятся следующие данные:
- Имя пользователя
- Электронная почта
- Пароль
- Ранг
- Дополнительная информация (о себе)
- Является ли заблокированным
- Является ли модератором
Полномочия пользователей описаны далее.
### Рецепт
В таблице рецептов хранятся следующие данные:
- Название блюда
- Сложность
- Краткое описание
- Полное описание
- Категория
- Кухня
- Автор рецепта
- Изображение блюда
- Статус рецепта (опубликован или нет)
Опубликованные рецепты могут быть просмотрены всеми пользователями, вне зависимости от того, заблокированы они или нет, авторизованы или нет.
### Ингредиент
В таблице ингредиентов хранятся следующие данные
- Название ингредиента
- Единица измерения
- Уникальный идентификатор (slug)
### Оценки
В таблице выставленных оценок хранятся следующие данные
- Идентификатор пользователя
- Идентификатор рецепта
- Выставленная оценка
### Ранг
В таблице рангов хранятся следующие данные
- Название ранга 
- Уникальный идентификатор (slug)
- Коэффициент
- Требование 
Под требованием понимается количество рецептов, необходимое для получение ранга.
Под коэффициентом понимается вес, с которым учитывается оценка.
Ранговая система будет описана далее.
### Категория
В таблице категорий хранятся следующие данные
- Название категории
- Уникальный идентификатор (slug)
Категории позволяют пользователям проще найти нужный им рецепт. Примеры категорий: напитки, супы, десерты и так далее.
### Кухня
В таблице кухонь хранятся следующие данные
- Название кухни
- Уникальный идентификатор (slug)
Кухни позволяют пользователям проще найти нужный им рецепт, если им известна национальность блюда. Примеры кухонь: грузинская, итальянская, японская и так далее.
### Единицы измерения
В таблице единиц измерения хранятся следующие данные
- Название единицы измерения
- Уникальный идентификатор (slug)
Единицы измерения нужны, чтобы пользователь мог понять, в чем измеряется количество указанного ингредиента в рецепте. Примеры единиц измерения: миллилитры, граммы и так далее.
### Блокировка
В таблице блокировок хранятся следующие данные:
- Причина блокировки 
- Текст блокировки
- Идентификатор заблокированного пользователя

## Пользовательские роли
### Неавторизованный пользователь
Неавторизованный пользователь имеет следующие права:
- Просмотр всех рецептов
- Просмотр списка категорий
- Просмотр списка кухонь
- Использование релевантного поиска
### Авторизованный пользователь
Авторизованный пользователь имеет все те же права, что и неавторизованный, но вдобавок имеет следующие права:
- Предложить рецепт
- Предложить категорию
- Предложить кухню
- Предложить ингредиент
- Выставить оценку рецепту
### Модератор
Модератор имеет все те же права, что и авторизованный, но вдобавок имеет следующие права:
- Добавить нового модератора
- Заблокировать пользователя
- Одобрить или отклонить предложенный рецепт, кухню, категорию, ингредиент
Модератор вправе заблокировать пользователя, если он опубликовал много неодобренных рецептов, опубликовал один, но "негативного" содержания.
### Заблокированный пользователь
Заблокированный пользователь обладает всеми теми же правами, что и неавторизованный. При блокировке пользователя его рецепты удаляются, его оценки не учитываются. 

## Подробнее
### Релевантный поиск
Представим себе ситуацию. Пользователь открывает холодильник, видит в нём набор ингредиентов и не знает, что приготовить. Именно для таких случаев и создан релевантный поиск. Он позволяет отсортировать рецепты в порядке релевантности, то есть по мощности множества пересечения множества ингредиентов, имеющихся в рецепте, и множества ингредиентов, имеющихся у пользователя в холодильнике. Пользователю не обязательно отображаются рецепты, содержащие ровно те ингредиенты, которые у него есть.
### Ранговая система
На текущий момент в системе существует три ранга (можно добавить еще). Каждый ранг обладает коэффициентом. Этот коэффициент влияет, с каким весом будет учтена оценка, выставленная пользователем. 
К примеру, формула для вычисления оценки рецепта при наличии трёх рангов, выглядит следующим образом:
$$\displaystyle R = \frac{\displaystyle c_1\sum^{r_1}n_i \cdot i + c_2\sum^{r_2}n_i \cdot i + c_3\sum^{r_3}n_i \cdot i}{c_1 \cdot n_{c_1} +  c_2 \cdot n_{c_2} + c_3 \cdot n_{c_3}}$$
где 
$$c_i - коэффициент, \space с \space которым \space учитывается \space оценка, \space i \in [1 ,2,3]$$
$$\displaystyle \sum^{r_j}n_i\cdot i - сумма \space оценок, \space выставленных \space пользователями \space ранга \space j, \space i \in[1,2,3,4,5]$$
$$n_{c_j} - количество \space пользователей \space ранга \space j,\space  которые \space  выставили \space  оценку$$
## UI / API
Приложение разрабатывается в виде сайта. Архитектура приложения, а также некоторые пользовательские сценарии, выглядят следующим образом: https://miro.com/welcomeonboard/THdCU1NXMFZ4b1JMQTVCdXFGYVJUTUlsM0pyNmJ0QVFUTmFGUWlzVmpNYVM2bU9UVjJvNzBpbVN1cTdMMkw0ZnwzNDU4NzY0NTE0NjcyNjE1NDYwfDI=?share_link_id=845407291978

## Технологии разработки
### Языки программирования
- Python
- JS
- HTML и CSS
### Фреймворки
- React JS
- Django Rest Framework

### СУБД
PostgreSQL
## Тестирование
- Модульное тестирование - создание наборов входных данных для каждой функции с целью выявления непредвиденных ошибок или непредвиденного поведения функции. 
- Тестирование параметров доступа - проверка на то, что пользователь определённой роли имеет лишь те возможности, которые предусмотрены его ролью, и все доступные его роли  возможности доступны ему.
- Тестирование пользовательских сценариев - проверка типичных пользовательских сценариев с целью выявления непредвиденного поведения приложения.
- Тестирование UI - проверка пользовательского интерфейса на предсказуемое поведение в различных ситуациях.

## Структура БД
Структура БД выглядит следующим образом: https://lucid.app/lucidchart/d911205a-1742-48f8-98e9-ffbc32aab61a/edit?viewport_loc=-56%2C-224%2C1404%2C1542%2C0_0&invitationId=inv_034d6e31-eca6-4ed9-aa11-1830e8df72ca
![image](https://github.com/Cr1msonEdge/My-Recipe-Book/assets/91876824/eac9220f-d887-4283-a062-d6d4cb5d8301)


